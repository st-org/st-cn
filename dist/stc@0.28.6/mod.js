var t={d:(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.d(n,{Si:()=>K,AT:()=>V,MY:()=>Q,yd:()=>tt,h8:()=>J,l7:()=>B,gh:()=>k,Rs:()=>N,t$:()=>$,aV:()=>M,XY:()=>R,kC:()=>H,OO:()=>F,Ws:()=>D,fK:()=>W,wS:()=>m,Xg:()=>w,TA:()=>S,yr:()=>E,dG:()=>G,tC:()=>C,TW:()=>P,q0:()=>A,xU:()=>U,_C:()=>z,lV:()=>X,$P:()=>Y,Iz:()=>O,c4:()=>L,od:()=>_,dt:()=>v,FW:()=>b});var e={};t.r(e),t.d(e,{parse:()=>f});var o={};t.r(o),t.d(o,{parse:()=>g});var i={};t.r(i),t.d(i,{isRelURL:()=>m,urlsStrToAbsURLs:()=>v,urlsToAbsURLs:()=>b});var r={};t.r(r),t.d(r,{parsePositionStr:()=>T,positionToUnitOrLines:()=>I,stringifyPosition:()=>x});var s={};t.r(s),t.d(s,{lineToInlinePlainString:()=>w,lineToPlainString:()=>S,stdnToInlinePlainString:()=>C,stdnToInlinePlainStringLine:()=>P,stdnToPlainString:()=>A,stringToId:()=>U,unitToInlinePlainString:()=>O,unitToPlainString:()=>L});var c={};t.r(c),t.d(c,{removeAfter:()=>E,removeBefore:()=>G});var l={};t.r(l),t.d(l,{extractContext:()=>B,extractGlobalChildren:()=>k,extractGlobalOptionArray:()=>N,extractGlobalStrings:()=>$,extractGlobalURLs:()=>M,extractLastGlobalOption:()=>R,extractPartToOffset:()=>H,extractUnitOrLineToHeading:()=>F,extractUnitOrLineToPart:()=>D,extractUnitOrLineToPosition:()=>W,urlToAbsURL:()=>_});var a={};function u(t,n=!1){let e=0,o=!1,i=!1,r=0,s=!1;const c=[];for(let l=0;l<t.length;l++){if(!0===i){i=!1;continue}const a=t[l];if("line"!==s)if("block"!==s)if("'"!==a){if(o)"\\"===a&&(i=!0);else if("{"!==a&&"["!==a)if("}"!==a&&"]"!==a){if(!(e>0))if(","!==a&&"\n"!==a){if(!(r<l))if(0!==a.trimEnd().length){if("/"===a){const n=t[l+1];if("/"===n){l++,s="line",r=l+1;continue}if("*"===n){l++,s="block",r=l+1;continue}}}else r=l+1}else{const n=t.slice(r,l).trimEnd();n.length>0&&c.push(n),r=l+1}}else{if(e--,e<0){const n=t.slice(r,l).trimEnd();n.length>0&&c.push(n);break}0===e&&(c.push(t.slice(r,l+1)),r=l+1)}else if(e++,1===e&&!n){const n=t.slice(r,l).trimEnd();n.length>0&&c.push(n),r=l}}else{if(!o){if(o=!0,0===e&&!n){const n=t.slice(r,l).trimEnd();n.length>0&&c.push(n),r=l}continue}o=!1,0===e&&(c.push(t.slice(r,l+1)),r=l+1)}else"*"===a&&"/"===t[l+1]&&(l++,s=!1),r=l+1;else"\n"===a&&(s=!1),r=l+1}if(!o&&0===e){const n=t.slice(r).trimEnd();n.length>0&&c.push(n)}return c}function f(t){if(0===(t=t.trimStart()).length)return;const n=t[0];return"'"===n?function(t){const n=[];let e=!1;for(const o of t)if(!0!==e)if("\\"!==o){if("'"===o)break;n.push(o)}else e=!0;else e=!1,"\\"!==o&&"'"!==o&&n.push("\\"),n.push(o);return n.join("")}(t.slice(1)):"["===n?function(t){const n=[];for(const e of u(t)){const t=f(e);if(void 0===t)return;n.push(t)}return n}(t.slice(1)):"{"===n?function(t){const n={};for(const e of u(t,!0)){const t=e.match(/^\s*([\w-]+)/);if(null===t){const t=f(e);if(void 0===t)return;n.__=t;continue}const o=t[1],i=t[0].length;let r=e.slice(i).trimEnd();if(0===r.length)n[o]=!0;else{const t=f(r);if(void 0===t)return;n[o]=t}}return n}(t.slice(1)):"true"===(t=t.trimEnd())||"false"!==t&&(/^(?:[+-]?Infinity|NaN|0x[\dA-Fa-f]+|0o[0-7]+|0b[01]+|[+-]?(?:\d*\.?\d+|\d+\.)(?:e[+-]?\d+)?)$/.test(t)?Number(t):/[\n\r',\[\]{}]/.test(t)?void 0:t)}function d(t){let n="div",e=[];const o={};for(const i in t){const r=t[i];if(void 0!==r)if("__"!==i)Array.isArray(r)?(n=i,e=p(r)):o[i]="object"!=typeof r?r:d(r);else{if(n="katex",!Array.isArray(r)){e=p([r]);continue}e=p(r)}}return{tag:n,options:o,children:e}}function h(t){const n=[];for(const e of t)if("string"!=typeof e)"object"!=typeof e||Array.isArray(e)||n.push(d(e));else for(const t of e)t>=" "&&n.push(t);return n}function p(t){const n=[];for(const e of t)Array.isArray(e)?n.push(h(e)):n.push(h([e]));return n}function g(t){const n=f(`[${t}]`);if(Array.isArray(n))return p(n)}t.r(a),t.d(a,{Counter:()=>V});var y=function(t,n,e,o){return new(e||(e=Promise))((function(i,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function c(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((o=o.apply(t,n||[])).next())}))};function m(t){return!t.startsWith("#")&&!/^[a-z][a-z0-9+.-]*:/i.test(t)}function b(t,n,e=[]){return y(this,void 0,void 0,(function*(){const o=[];for(const i of t){const t=new URL(i,n);t.pathname.endsWith(".urls")||t.pathname.endsWith(".urls.txt")?e.includes(t.href)||o.push((()=>y(this,void 0,void 0,(function*(){try{const n=yield fetch(t.href);return n.ok?yield v(yield n.text(),t.href,e.concat(t.href)):[]}catch(t){return console.log(t),[]}})))()):o.push(t.href)}return(yield Promise.all(o)).flat()}))}function v(t,n,e=[]){return y(this,void 0,void 0,(function*(){const o=f(`[${t}]`);if(!Array.isArray(o))return[];const i=[];for(const t of o)"string"==typeof t&&i.push(t);return yield b(i,n,e)}))}function T(t){return t.trim().split(/\s+/).map((t=>/^\d+$/.test(t)?Number(t):t.startsWith('"')?t.slice(1,-1):t))}function x(t){return t.map((t=>"number"==typeof t?t:/^\d+$/.test(t)?`'${t}'`:t)).join(" ")}function I(t,n,e=0){const o=[];if(0===t.length||0===n.length)return o;const i=t[0];if("number"!=typeof i)return o;const r=n[Math.min(n.length-1,i+e)];if(void 0===r)return o;o.push(r);let s=r;for(let n=1;n<t.length;n++){const e=t[n];if("number"==typeof e){if(Array.isArray(s)){const t=s[e];if("object"!=typeof t)break;o.push(s=t);continue}const t=s.children[e];if(void 0===t)break;o.push(s=t);continue}if(Array.isArray(s))break;const i=s.options[e];if("object"!=typeof i)break;o.push(s=i)}return o}function L(t){return A(t.children)}function S(t){let n="";for(const e of t)n+="string"!=typeof e?L(e):e;return n}function A(t){const n=[];for(const e of t)n.push(S(e));return n.join("\n")}function O(t){return C(t.children)}function w(t){let n="";for(const e of t)n+="string"!=typeof e?O(e):e;return n}function C(t){for(const n of t){const t=w(n);if(t.length>0)return t}return""}function P(t){for(const n of t)if(w(n).length>0)return n;return[]}function U(t){return Array.from(t.slice(0,100).matchAll(/[a-zA-Z0-9]+/g)).join("-").toLowerCase()}function G(t,n){for(;;){for(;null!==t.previousSibling;)t.previousSibling.remove();if(null===t.parentNode||t.parentNode===n)break;t=t.parentNode}}function E(t,n){for(;;){for(;null!==t.nextSibling;)t.nextSibling.remove();if(null===t.parentNode||t.parentNode===n)break;t=t.parentNode}}var j=function(t,n,e,o){return new(e||(e=Promise))((function(i,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function c(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((o=o.apply(t,n||[])).next())}))};function k(t,n){const e=n[t];return void 0===e?[]:e.childrenArray.flat()}function N(t,n,e){var o;const i=e[n];return void 0===i?[]:null!==(o=i.optionArrays[t])&&void 0!==o?o:[]}function $(t,n,e){const o=N(t,n,e),i=[];for(const t of o)"string"==typeof t&&i.push(t);return i}function M(t,n,e){return j(this,void 0,void 0,(function*(){return yield b($(t,n,e),location.href)}))}function R(t,n,e){const o=N(t,n,e);if(0!==o.length)return o[o.length-1]}function D(t){const n=new Map;function e(t,i){n.set(t,i);for(const n in t.options){const o=t.options[n];"object"==typeof o&&e(o,i)}o(t.children,i)}function o(t,o){for(const i of t){n.set(i,o);for(const t of i)"string"!=typeof t&&e(t,o)}}for(const n of t)o(n.value,n);return n}function H(t){const n=new Map;let e=0;for(const o of t)n.set(o,e),e+=o.value.length;return n}function W(t){const n=new Map;function e(t,i){n.set(t,i);for(const n in t.options){const o=t.options[n];"object"==typeof o&&e(o,i.concat(n))}o(t.children,i)}function o(t,o){for(let i=0;i<t.length;i++){const r=t[i],s=o.concat(i);n.set(r,s);for(let t=0;t<r.length;t++){const n=r[t];"string"!=typeof n&&e(n,s.concat(t))}}}return o(t,[]),n}function F(t,n){const e=new Map;if(0===n.length)return e;let o,i=0,r=n[0];function s(t){e.set(t,o),i<n.length&&t===r.unit&&(o=r,r=n[++i]);for(const n in t.options){const e=t.options[n];"object"==typeof e&&s(e)}c(t.children)}function c(t){for(const n of t){e.set(n,o);for(const t of n)"string"!=typeof t&&s(t)}}return c(t),e}function _(t,n,e){if(!m(t))return t;const o=e.get(n);if(void 0===o)return t;try{return new URL(t,o.url).href}catch(n){return console.log(n),t}}function B(t,{builtInTagToUnitCompiler:n,style:e,headSTDN:o,footSTDN:i,root:r}={}){return j(this,void 0,void 0,(function*(){const s={},c={};void 0!==n&&Object.assign(c,n);const l=[],a=[],u=D(t),f=t.map((t=>t.value)).flat(),d=(null!=o?o:[]).concat(f).concat(null!=i?i:[]);for(const t of d){if(0===t.length)continue;const n=t[0];if("string"!=typeof n)if("global"!==n.tag){if(!0===n.options.global){let t=s[n.tag];void 0===t&&(s[n.tag]=t={optionArrays:{},childrenArray:[]});for(const e in n.options){if("global"===e||"__"===e)continue;let o=n.options[e];if(void 0===o)continue;"string"==typeof o&&(e.endsWith("href")||e.endsWith("src"))&&m(o)&&(o=_(o,n,u));const i=t.optionArrays[e];void 0!==i?i.push(o):t.optionArrays[e]=[o]}t.childrenArray.push(n.children)}}else{const{registry:t,mod:e,css:o,ucs:i}=n.options;let r="https://cdn.jsdelivr.net/gh/st-mod";"string"==typeof t&&(r=_(t,n,u)),"string"==typeof e&&(l.push(`${r}/${e}/main.css`),a.push(`${r}/${e}/ucs.js`)),"string"==typeof o&&l.push(`${r}/${o}/main.css`),"string"==typeof i&&a.push(`${r}/${i}/ucs.js`);{const t=n.options["mod-gh"];"string"==typeof t&&(l.push(`https://cdn.jsdelivr.net/gh/${t}/main.css`),a.push(`https://cdn.jsdelivr.net/gh/${t}/ucs.js`))}{const t=n.options["css-gh"];"string"==typeof t&&l.push(`https://cdn.jsdelivr.net/gh/${t}/main.css`)}{const t=n.options["ucs-gh"];"string"==typeof t&&a.push(`https://cdn.jsdelivr.net/gh/${t}/ucs.js`)}{const t=n.options["css-src"];"string"==typeof t&&l.push(_(t,n,u))}{const t=n.options["ucs-src"];"string"==typeof t&&a.push(_(t,n,u))}}}const h=(yield b(l,location.href)).map((t=>`@import ${JSON.stringify(t)};`)).join("");void 0!==e&&(e.textContent=h);for(const t of yield b(a,location.href))try{Object.assign(c,yield new Function(`return import(${JSON.stringify(t)})`)())}catch(t){console.log(t)}const p=new V(s);p.countSTDN(f);const{headings:g,idToIndexInfo:y,indexInfoArray:v,title:T,titleInfo:x,unitToId:I}=p,L=H(t),S=F(f,g),A=W(f);return{css:h,fullSTDN:d,headings:g,indexInfoArray:v,idToIndexInfo:y,parts:t,partToOffset:L,stdn:f,tagToGlobalOptions:s,tagToUnitCompiler:c,title:T,titleInfo:x,unitToId:I,unitOrLineToHeading:S,unitOrLineToPart:u,unitOrLineToPosition:A,root:r,extractGlobalChildren:t=>k(t,s),extractGlobalOptionArray:(t,n)=>N(t,n,s),extractGlobalStrings:(t,n)=>$(t,n,s),extractGlobalURLs:(t,n)=>M(t,n,s),extractLastGlobalOption:(t,n)=>R(t,n,s),urlToAbsURL:(t,n)=>_(t,n,u)}}))}class V{constructor(t){this.tagToGlobalOptions=t,this.currentHeadingIndex=[],this.orbitToCurrentIndex={},this.baseIdToCount={},this.headings=[],this.idToIndexInfo={},this.indexInfoArray=[],this.unitToId=new Map,this.title=""}createIndex(t,n){if("heading"===t){if(this.currentHeadingIndex.length<n)for(let t=this.currentHeadingIndex.length;t<n;t++)this.currentHeadingIndex.push(0);else{for(let t=n;t<this.currentHeadingIndex.length;t++)this.currentHeadingIndex[t]=0;for(const t in this.orbitToCurrentIndex){const e=this.orbitToCurrentIndex[t];if(!(void 0===e||e.length<n))for(let t=n;t<e.length;t++)e[t]=0}}return this.currentHeadingIndex[n-1]++,this.currentHeadingIndex.slice(0,n)}let e=this.orbitToCurrentIndex[t];if(void 0===e&&(e=[],this.orbitToCurrentIndex[t]=e),e.length<n)for(let t=e.length;t<n;t++)e.push(0);if(this.currentHeadingIndex.length<n-1)for(let t=this.currentHeadingIndex.length;t<n-1;t++)this.currentHeadingIndex.push(0);const o=this.currentHeadingIndex.slice(0,n-1);return o.push(++e[n-1]),o}countUnit(t){var n,e,o,i,r,s;if("global"===t.tag||!0===t.options.global||!0===(null!==(n=t.options["no-count"])&&void 0!==n?n:R("no-count",t.tag,this.tagToGlobalOptions))||void 0!==this.unitToId.get(t))return;const c=U("string"==typeof t.options.id?t.options.id:O(t)),l=this.baseIdToCount[c]=(null!==(e=this.baseIdToCount[c])&&void 0!==e?e:0)+1,a=l>1||0===c.length?`${c}~${l}`:c;this.unitToId.set(t,a);let u=null!==(o=t.options.orbit)&&void 0!==o?o:R("orbit",t.tag,this.tagToGlobalOptions);"string"==typeof u&&0!==u.length||(u="h1"===t.tag||"h2"===t.tag||"h3"===t.tag||"h4"===t.tag||"h5"===t.tag||"h6"===t.tag?"heading":t.tag);let f=null!==(r=null!==(i=t.options.level)&&void 0!==i?i:R("level",t.tag,this.tagToGlobalOptions))&&void 0!==r?r:R("level",u,this.tagToGlobalOptions);if("number"!=typeof f||f<=0||f%1!=0)switch(t.tag){case"h2":f=2;break;case"h3":f=3;break;case"h4":f=4;break;case"h5":f=5;break;case"h6":f=6;break;default:f=1}const d={index:this.createIndex(u,f),id:a,orbit:u,unit:t};if(this.idToIndexInfo[a]=d,this.indexInfoArray.push(d),"heading"===u&&this.headings.push(d),0===this.title.length&&"title"===t.tag&&(this.title=O(t),this.titleInfo=d),!0!==(null!==(s=t.options["no-count-inside"])&&void 0!==s?s:R("no-count-inside",t.tag,this.tagToGlobalOptions))){for(const n in t.options){const e=t.options[n];"object"==typeof e&&this.countUnit(e)}this.countSTDN(t.children)}}countSTDN(t){for(const n of t)for(const t of n)"string"!=typeof t&&this.countUnit(t)}}var q=function(t,n,e,o){return new(e||(e=Promise))((function(i,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function c(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((o=o.apply(t,n||[])).next())}))};const z=["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","iframe","del","ins","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],X=["a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","iframe","del","ins","col","colgroup","table","tbody","tfoot","thead","tr"],Y=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","symbol","text","textPath","tspan","use"];function J(t){const n=document.createElement("span");return n.classList.add("unit","warn"),n.textContent=t,n}class K{constructor(t){this.context=t,this.stop=!1,this.ston=e,this.stdn=o,this.position=r,this.base=s,this.urls=i,this.dom=c,this.counter=a,this.extractor=l,this.compile=Q,this.supportedHTMLTags=z,this.supportedHTMLTagsWithInlineChildren=X,this.supportedSVGTags=Y,this.createErrorElement=J,this.elementToUnitOrLine=new Map,this.unitOrLineToElements=new Map,this.unitToCompiling=new Map}registerElement(t,n){this.elementToUnitOrLine.set(t,n);let e=this.unitOrLineToElements.get(n);void 0===e&&this.unitOrLineToElements.set(n,e=[]),e.push(t)}compileUnit(t){var n;return q(this,void 0,void 0,(function*(){if(!0===this.unitToCompiling.get(t)){const n=this.createErrorElement("Loop");return this.registerElement(n,t),n}if("global"===t.tag||!0===t.options.global){const n=document.createElement("div");return n.classList.add("unit","global"),this.registerElement(n,t),n}this.unitToCompiling.set(t,!0);let e=null!==(n=t.options["compile-with"])&&void 0!==n?n:R("compile-with",t.tag,this.context.tagToGlobalOptions);"string"==typeof e&&0!==e.length||(e=t.tag);const o=this.context.tagToUnitCompiler[e];let i;if(void 0!==o){try{i=yield o(t,this)}catch(t){console.log(t),i=this.createErrorElement("Broken")}if(i.classList.contains("unit")&&i.classList.contains("warn"))return this.registerElement(i,t),this.unitToCompiling.set(t,!1),i}else z.includes(e)?(i=document.createElement(e),X.includes(e)?i.append(yield this.compileInlineSTDN(t.children)):i.append(yield this.compileSTDN(t.children))):Y.includes(e)?(i=document.createElementNS("http://www.w3.org/2000/svg",e),i.append(yield this.compileInlineSTDN(t.children))):(i=document.createElement("div"),i.append(yield this.compileSTDN(t.children)));i.classList.add("unit");try{i.classList.add(e),"string"==typeof t.options.class&&i.classList.add(...t.options.class.trim().split(/\s+/));for(const n of N("class",t.tag,this.context.tagToGlobalOptions))"string"==typeof n&&i.classList.add(...n.trim().split(/\s+/))}catch(t){console.log(t)}const r=[];let s=i.getAttribute("style");null!==s&&r.push(s),"string"==typeof t.options.style&&r.push(t.options.style);for(const n of N("style",t.tag,this.context.tagToGlobalOptions))"string"==typeof n&&r.push(n);if(r.length>0)try{i.setAttribute("style",r.join("; "))}catch(t){console.log(t)}const c=this.context.unitToId.get(t);void 0!==c&&(i.id=c);for(const n in t.options){if("id"===n||"class"===n||"style"===n)continue;if(i.hasAttribute(n))continue;let e=t.options[n];if(!0===e?e="":"number"==typeof e&&(e=e.toString()),"string"==typeof e){(n.endsWith("href")||n.endsWith("src"))&&m(e)&&(e=this.context.urlToAbsURL(e,t));try{i.setAttribute(n,e)}catch(t){console.log(t)}}}return this.registerElement(i,t),this.unitToCompiling.set(t,!1),i}))}compileInline(t){return q(this,void 0,void 0,(function*(){return"string"!=typeof t?yield this.compileUnit(t):new Text(t)}))}compileLine(t){return q(this,void 0,void 0,(function*(){const n=new DocumentFragment;for(const e of t){if(this.stop)return n;n.append(yield this.compileInline(e))}return n}))}compileInlineSTDN(t){return q(this,void 0,void 0,(function*(){const n=new DocumentFragment;for(let e=0;e<t.length;e++){if(this.stop)return n;n.append(yield this.compileLine(t[e])),e!==t.length-1&&n.append(new Text("\n"))}return n}))}compileSTDN(t){return q(this,void 0,void 0,(function*(){const n=new DocumentFragment;for(const e of t){if(this.stop)return n;const t=document.createElement("div");t.classList.add("st-line"),n.append(t),t.append(yield this.compileLine(e)),this.registerElement(t,e)}return n}))}}var Z=function(t,n,e,o){return new(e||(e=Promise))((function(i,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function c(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((o=o.apply(t,n||[])).next())}))};function Q(t,n={}){return Z(this,void 0,void 0,(function*(){const e=[];for(const{value:n,url:o}of t){const t=g(n);void 0!==t&&e.push({value:t,url:o})}const o=yield B(e,n),i=new K(o);return{compiler:i,documentFragment:yield i.compileSTDN(o.stdn)}}))}function tt(t,n={}){return Z(this,void 0,void 0,(function*(){const e=[];for(const n of yield b(t,location.href))e.push((()=>Z(this,void 0,void 0,(function*(){try{const t=yield fetch(n);return t.ok?[{value:yield t.text(),url:n}]:[]}catch(t){return console.log(t),[]}})))());return yield Q((yield Promise.all(e)).flat(),n)}))}var nt=n.Si,et=n.AT,ot=n.MY,it=n.yd,rt=n.h8,st=n.l7,ct=n.gh,lt=n.Rs,at=n.t$,ut=n.aV,ft=n.XY,dt=n.kC,ht=n.OO,pt=n.Ws,gt=n.fK,yt=n.wS,mt=n.Xg,bt=n.TA,vt=n.yr,Tt=n.dG,xt=n.tC,It=n.TW,Lt=n.q0,St=n.xU,At=n._C,Ot=n.lV,wt=n.$P,Ct=n.Iz,Pt=n.c4,Ut=n.od,Gt=n.dt,Et=n.FW;export{nt as Compiler,et as Counter,ot as compile,it as compileURLs,rt as createErrorElement,st as extractContext,ct as extractGlobalChildren,lt as extractGlobalOptionArray,at as extractGlobalStrings,ut as extractGlobalURLs,ft as extractLastGlobalOption,dt as extractPartToOffset,ht as extractUnitOrLineToHeading,pt as extractUnitOrLineToPart,gt as extractUnitOrLineToPosition,yt as isRelURL,mt as lineToInlinePlainString,bt as lineToPlainString,vt as removeAfter,Tt as removeBefore,xt as stdnToInlinePlainString,It as stdnToInlinePlainStringLine,Lt as stdnToPlainString,St as stringToId,At as supportedHTMLTags,Ot as supportedHTMLTagsWithInlineChildren,wt as supportedSVGTags,Ct as unitToInlinePlainString,Pt as unitToPlainString,Ut as urlToAbsURL,Gt as urlsStrToAbsURLs,Et as urlsToAbsURLs};